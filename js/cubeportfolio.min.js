!function(e,t,i,o){"use strict";var n="cbp",a="."+n;"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),e.expr[":"].uncached=function(t){if(!e(t).is('img[src!=""]'))return!1;var i=new Image;return i.src=t.src,!i.complete};var s={init:function(e,t){var i,o=this;return o.cubeportfolio=e,o.type=t,o.isOpen=!1,o.options=o.cubeportfolio.options,"singlePageInline"===t?(o.matrice=[-1,-1],o.height=0,void o._createMarkupSinglePageInline()):(o._createMarkup(),void(o.options.singlePageDeeplinking&&"singlePage"===t&&(o.url=location.href,"#"==o.url.slice(-1)&&(o.url=o.url.slice(0,-1)),i=o.cubeportfolio.blocksAvailable.find(o.options.singlePageDelegate).filter(function(){return o.url.split("#cbp=")[1]===this.getAttribute("href")})[0],i&&(o.url=o.url.replace(/#cbp=(.+)/gi,""),o.openSinglePage(o.cubeportfolio.blocksAvailable,i)))))},_createMarkup:function(){var t=this;t.wrap=e("<div/>",{"class":"cbp-popup-wrap cbp-popup-"+t.type,"data-action":"lightbox"===t.type?"close":""}).on("click"+a,function(i){if(!t.stopEvents){var o=e(i.target).attr("data-action");t[o]&&(t[o](),i.preventDefault())}}),t.content=e("<div/>",{"class":"cbp-popup-content"}).appendTo(t.wrap),e("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(t.wrap),"ie8"===t.cubeportfolio.browser&&(t.bg=e("<div/>",{"class":"cbp-popup-ie8bg","data-action":"lightbox"===t.type?"close":""}).appendTo(t.wrap)),t.navigationWrap=e("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(t.wrap),t.navigation=e("<div/>",{"class":"cbp-popup-navigation"}).appendTo(t.navigationWrap),t.closeButton=e("<button/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)",type:"button","data-action":"close"}).appendTo(t.navigation),t.nextButton=e("<button/>",{"class":"cbp-popup-next",title:"Next (Right arrow key)",type:"button","data-action":"next"}).appendTo(t.navigation),t.prevButton=e("<button/>",{"class":"cbp-popup-prev",title:"Previous (Left arrow key)",type:"button","data-action":"prev"}).appendTo(t.navigation),"singlePage"===t.type&&(t.options.singlePageShowCounter&&(t.counter=e("<div/>",{"class":"cbp-popup-singlePage-counter"}).appendTo(t.navigation)),t.content.on("click"+a,t.options.singlePageDelegate,function(e){e.preventDefault();var i,o=t.dataArray.length,n=this.getAttribute("href");for(i=0;o>i&&t.dataArray[i].url!=n;i++);t.singlePageJumpTo(i-t.current)})),e(i).on("keydown"+a,function(e){t.isOpen&&(t.stopEvents||(37===e.keyCode?t.prev():39===e.keyCode?t.next():27===e.keyCode&&t.close()))})},_createMarkupSinglePageInline:function(){var t=this;t.wrap=e("<div/>",{"class":"cbp-popup-singlePageInline"}).on("click"+a,function(i){if(!t.stopEvents){var o=e(i.target).attr("data-action");o&&(t[o](),i.preventDefault())}}),t.content=e("<div/>",{"class":"cbp-popup-content"}).appendTo(t.wrap),e("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(t.wrap),t.navigation=e("<div/>",{"class":"cbp-popup-navigation"}).appendTo(t.wrap),t.closeButton=e("<button/>",{"class":"cbp-popup-close icon-minus",title:"Close (Esc arrow key)",type:"button","data-action":"close"}).appendTo(t.navigation)},destroy:function(){var t=this;e(i).off("keydown"+a),t.cubeportfolio.$obj.off("click"+a,t.options.lightboxDelegate),t.cubeportfolio.$obj.off("click"+a,t.options.singlePageDelegate),t.content.off("click"+a,t.options.singlePageDelegate),t.cubeportfolio.$obj.off("click"+a,t.options.singlePageInlineDelegate),t.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),t.cubeportfolio.blocks.removeClass("cbp-singlePageInline-active"),t.wrap.remove()},openLightbox:function(o,n){var a,s,r=this,l=0,p=[];if(!r.isOpen){if(r.cubeportfolio.singlePageInline&&r.cubeportfolio.singlePageInline.isOpen&&r.cubeportfolio.singlePageInline.close(),r.isOpen=!0,r.stopEvents=!1,r.dataArray=[],r.current=null,a=n.getAttribute("href"),null===a)throw new Error("HEI! Your clicked element doesn't have a href attribute.");e.each(o.find(r.options.lightboxDelegate),function(t,i){var o=i.getAttribute("href"),n=o,s="isImage";if(-1===e.inArray(o,p)){if(a==o)r.current=l;else if(!r.options.lightboxGallery)return;/youtube/i.test(o)?(n="//www.youtube.com/embed/"+o.substring(o.lastIndexOf("v=")+2)+"?autoplay=1",s="isYoutube"):/vimeo/i.test(o)?(n="//player.vimeo.com/video/"+o.substring(o.lastIndexOf("/")+1)+"?autoplay=1",s="isVimeo"):/ted\.com/i.test(o)?(n="http://embed.ted.com/talks/"+o.substring(o.lastIndexOf("/")+1)+".html",s="isTed"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(o)&&(n=o.split(-1!==o.indexOf("|")?"|":"%7C"),s="isSelfHosted"),r.dataArray.push({src:n,title:i.getAttribute(r.options.lightboxTitleSrc),type:s}),l++}p.push(o)}),r.counterTotal=r.dataArray.length,1===r.counterTotal?(r.nextButton.hide(),r.prevButton.hide(),r.dataActionImg=""):(r.nextButton.show(),r.prevButton.show(),r.dataActionImg='data-action="next"'),r.wrap.appendTo(i.body),r.scrollTop=e(t).scrollTop(),e("html").css({overflow:"hidden",paddingRight:t.innerWidth-e(i).width()}),r.wrap.show(),s=r.dataArray[r.current],r[s.type](s)}},openSinglePage:function(o,n){var a,s=this,r=0,l=[];if(!s.isOpen){if(s.cubeportfolio.singlePageInline&&s.cubeportfolio.singlePageInline.isOpen&&s.cubeportfolio.singlePageInline.close(),s.isOpen=!0,s.stopEvents=!1,s.dataArray=[],s.current=null,a=n.getAttribute("href"),null===a)throw new Error("HEI! Your clicked element doesn't have a href attribute.");if(e.each(o.find(s.options.singlePageDelegate),function(t,i){var o=i.getAttribute("href");-1===e.inArray(o,l)&&(a==o&&(s.current=r),s.dataArray.push({url:o,element:i}),r++),l.push(o)}),s.counterTotal=s.dataArray.length,s.wrap.appendTo(i.body),s.scrollTop=e(t).scrollTop(),e("html").css({overflow:"hidden",paddingRight:t.innerWidth-e(i).width()}),s.wrap.scrollTop(0),e.isFunction(s.options.singlePageCallback)&&s.options.singlePageCallback.call(s,s.dataArray[s.current].url,s.dataArray[s.current].element),s.wrap.show(),s.wrap.one(s.cubeportfolio.transitionEnd,function(){var e;s.options.singlePageStickyNavigation&&(s.wrap.addClass("cbp-popup-singlePage-sticky"),e=s.wrap[0].clientWidth,s.navigationWrap.width(e),s.navigation.width(e))}),("ie8"===s.cubeportfolio.browser||"ie9"===s.cubeportfolio.browser)&&(setTimeout(function(){s.wrap.addClass("cbp-popup-singlePage-sticky")},1e3),s.options.singlePageStickyNavigation)){var p=s.wrap[0].clientWidth;s.navigationWrap.width(p),s.navigation.width(p)}setTimeout(function(){s.wrap.addClass("cbp-popup-singlePage-open")},20),s.options.singlePageDeeplinking&&(location.href=s.url+"#cbp="+s.dataArray[s.current].url)}},openSinglePageInline:function(i,o,n){var a,s,r,l=this,p=0,c=0,u=0,d=[];if(n=n||!1,l.storeBlocks=i,l.storeCurrentBlock=o,l.isOpen)return void(l.dataArray[l.current].url!=o.getAttribute("href")?l.cubeportfolio.singlePageInline.close("open",{blocks:i,currentBlock:o,fromOpen:!0}):l.close());if(l.wrap.addClass("cbp-popup-loading"),l.isOpen=!0,l.stopEvents=!1,l.dataArray=[],l.current=null,a=o.getAttribute("href"),null===a)throw new Error("HEI! Your clicked element doesn't have a href attribute.");e.each(i.find(l.options.singlePageInlineDelegate),function(t,i){var o=i.getAttribute("href");-1===e.inArray(o,d)&&(a==o&&(l.current=p),l.dataArray.push({url:o,element:i}),p++),d.push(o)}),e(l.dataArray[l.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),l.counterTotal=l.dataArray.length,l.wrap.prependTo(l.cubeportfolio.blocksClone?"clone"===l.cubeportfolio.ulHidden?l.cubeportfolio.$ul:l.cubeportfolio.$ulClone:l.cubeportfolio.$ul),"top"===l.options.singlePageInlinePosition?(c=0,u=l.cubeportfolio.cols-1):"above"===l.options.singlePageInlinePosition?(p=Math.floor(l.current/l.cubeportfolio.cols),c=l.cubeportfolio.cols*p,u=l.cubeportfolio.cols*(p+1)-1):(p=Math.floor(l.current/l.cubeportfolio.cols),c=Math.min(l.cubeportfolio.cols*(p+1),l.counterTotal),u=Math.min(l.cubeportfolio.cols*(p+2)-1,l.counterTotal),s=Math.ceil((l.current+1)/l.cubeportfolio.cols),r=Math.ceil(l.counterTotal/l.cubeportfolio.cols),l.lastColumn=s==r?!0:!1,n?l.lastColumn&&(l.top=l.lastColumnHeight):(l.lastColumnHeight=l.cubeportfolio.height,l.top=l.lastColumnHeight)),l.matrice=[c,u],l._resizeSinglePageInline(),e.isFunction(l.options.singlePageInlineCallback)&&l.options.singlePageInlineCallback.call(l,l.dataArray[l.current].url,l.dataArray[l.current].element),l.options.singlePageInlineInFocus&&(l.scrollTop=e(t).scrollTop(),e("body, html").animate({scrollTop:l.wrap.offset().top-150}))},_resizeSinglePageInline:function(t){var i,o=this;t=t||!1,o.height=o.content.outerHeight(!0),o.cubeportfolio._layout(),o.cubeportfolio._processStyle(o.cubeportfolio.transition),t&&o.wrap.removeClass("cbp-popup-loading"),o.cubeportfolio.$obj.addClass("cbp-popup-isOpening"),o.wrap.css({height:o.height}),o.wrap.css({top:o.top}),i=o.lastColumn?o.height:0,o.cubeportfolio._resizeMainContainer(o.cubeportfolio.transition,i),o.options.singlePageInlineInFocus&&e("body, html").animate({scrollTop:o.wrap.offset().top-150})},updateSinglePage:function(e){var t,i=this;i.content.html(e),i.wrap.addClass("cbp-popup-ready"),i.wrap.removeClass("cbp-popup-loading"),i.options.singlePageShowCounter&&i.counter.text(i.current+1+" of "+i.counterTotal),t=i.content.find(".cbp-slider"),t?(i.slider=Object.create(r),i.slider._init(i,t)):i.slider=null},updateSinglePageInline:function(e){var t,i=this;i.content.html(e),i._loadSinglePageInline(),t=i.content.find(".cbp-slider"),t?(i.slider=Object.create(r),i.slider._init(i,t)):i.slider=null},_loadSinglePageInline:function(){var t,i,o,n=this,s=[],r=/url\((['"]?)(.*?)\1\)/g;if(o=n.wrap.children().css("backgroundImage"))for(var l;l=r.exec(o);)s.push({src:l[2]});n.wrap.find("*").each(function(){var t=e(this);if(t.is("img:uncached")&&s.push({src:t.attr("src"),element:t[0]}),o=t.css("backgroundImage"))for(var i;i=r.exec(o);)s.push({src:i[2],element:t[0]})});var p=s.length,c=0;0===p&&n._resizeSinglePageInline(!0);var u=function(){c++,c==p&&n._resizeSinglePageInline(!0)};for(t=0;p>t;t++)i=new Image,e(i).on("load"+a+" error"+a,u),i.src=s[t].src},isImage:function(t){var i=this,o=new Image;i.tooggleLoading(!0),e('<img src="'+t.src+'">').is("img:uncached")?(e(o).on("load"+a+" error"+a,function(){i.updateImagesMarkup(t.src,t.title,i.current+1+" of "+i.counterTotal),i.tooggleLoading(!1)}),o.src=t.src):(i.updateImagesMarkup(t.src,t.title,i.current+1+" of "+i.counterTotal),i.tooggleLoading(!1))},isVimeo:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.current+1+" of "+t.counterTotal)},isYoutube:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.current+1+" of "+t.counterTotal)},isTed:function(e){var t=this;t.updateVideoMarkup(e.src,e.title,t.current+1+" of "+t.counterTotal)},isSelfHosted:function(e){var t=this;t.updateSelfHostedVideo(e.src,e.title,t.current+1+" of "+t.counterTotal)},updateSelfHostedVideo:function(e,t,i){var o,n=this;n.wrap.addClass("cbp-popup-lightbox-isIframe");var a='<div class="cbp-popup-lightbox-iframe"><video controls="controls" width="100%" height="auto">';for(o=0;o<e.length;o++)/(\.mp4)/i.test(e[o])?a+='<source src="'+e[o]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(e[o])?a+='<source src="'+e[o]+'" type="video/ogg">':/(\.webm)/i.test(e[o])&&(a+='<source src="'+e[o]+'" type="video/webm">');a+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+(n.options.lightboxShowCounter?'<div class="cbp-popup-lightbox-counter">'+i+"</div>":"")+"</div></div>",n.content.html(a),n.wrap.addClass("cbp-popup-ready"),n.preloadNearbyImages()},updateVideoMarkup:function(e,t,i){var o=this;o.wrap.addClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-iframe"><iframe src="'+e+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+(o.options.lightboxShowCounter?'<div class="cbp-popup-lightbox-counter">'+i+"</div>":"")+"</div></div>";o.content.html(n),o.wrap.addClass("cbp-popup-ready"),o.preloadNearbyImages()},updateImagesMarkup:function(e,t,i){var o=this;o.wrap.removeClass("cbp-popup-lightbox-isIframe");var n='<div class="cbp-popup-lightbox-figure"><img src="'+e+'" class="cbp-popup-lightbox-img" '+o.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(t?'<div class="cbp-popup-lightbox-title">'+t+"</div>":"")+(o.options.lightboxShowCounter?'<div class="cbp-popup-lightbox-counter">'+i+"</div>":"")+"</div></div>";o.content.html(n),o.wrap.addClass("cbp-popup-ready"),o.resizeImage(),o.preloadNearbyImages()},next:function(){var e=this;e[e.type+"JumpTo"](1)},prev:function(){var e=this;e[e.type+"JumpTo"](-1)},lightboxJumpTo:function(e){var t,i=this;i.current=i.getIndex(i.current+e),t=i.dataArray[i.current],i[t.type](t)},singlePageJumpTo:function(t){var i=this;i.current=i.getIndex(i.current+t),e.isFunction(i.options.singlePageCallback)&&(i.resetWrap(),i.wrap.scrollTop(0),i.wrap.addClass("cbp-popup-loading"),i.options.singlePageCallback.call(i,i.dataArray[i.current].url,i.dataArray[i.current].element),i.options.singlePageDeeplinking&&(location.href=i.url+"#cbp="+i.dataArray[i.current].url))},resetWrap:function(){var e=this;"singlePage"===e.type&&e.options.singlePageDeeplinking&&(location.href=e.url+"#")},getIndex:function(e){var t=this;return e%=t.counterTotal,0>e&&(e=t.counterTotal+e),e},close:function(i,o){var n=this;n.isOpen=!1,"singlePageInline"===n.type?"open"===i?(n.wrap.addClass("cbp-popup-loading"),e(n.dataArray[n.current].element).parents(".cbp-item").removeClass("cbp-singlePageInline-active"),n.openSinglePageInline(o.blocks,o.currentBlock,o.fromOpen)):(n.matrice=[-1,-1],n.cubeportfolio._layout(),n.cubeportfolio._processStyle(n.cubeportfolio.transition),n.cubeportfolio._resizeMainContainer(n.cubeportfolio.transition),n.wrap.css({height:0}),e(n.dataArray[n.current].element).parents(".cbp-item").removeClass("cbp-singlePageInline-active"),"ie8"===n.cubeportfolio.browser||"ie9"===n.cubeportfolio.browser?(n.content.html(""),n.wrap.detach(),n.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),"promise"===i&&e.isFunction(o.callback)&&o.callback.call(n.cubeportfolio)):n.wrap.one(n.cubeportfolio.transitionEnd,function(){n.content.html(""),n.wrap.detach(),n.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),"promise"===i&&e.isFunction(o.callback)&&o.callback.call(n.cubeportfolio)}),n.options.singlePageInlineInFocus&&e("body, html").animate({scrollTop:n.scrollTop})):"singlePage"===n.type?(n.resetWrap(),e(t).scrollTop(n.scrollTop),setTimeout(function(){n.stopScroll=!0,n.navigationWrap.css({top:n.wrap.scrollTop()}),n.wrap.removeClass("cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),("ie8"===n.cubeportfolio.browser||"ie9"===n.cubeportfolio.browser)&&(n.content.html(""),n.wrap.detach(),e("html").css({overflow:"",paddingRight:""}),n.navigationWrap.removeAttr("style"))},0),n.wrap.one(n.cubeportfolio.transitionEnd,function(){n.content.html(""),n.wrap.detach(),e("html").css({overflow:"",paddingRight:""}),n.navigationWrap.removeAttr("style")})):(e("html").css({overflow:"",paddingRight:""}),e(t).scrollTop(n.scrollTop),n.content.html(""),n.wrap.detach())},tooggleLoading:function(e){var t=this;t.stopEvents=e,t.wrap[e?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var i=e(t).height(),o=e(".cbp-popup-content").find("img"),n=parseInt(o.css("margin-top"),10)+parseInt(o.css("margin-bottom"),10);o.css("max-height",i-n+"px")}},preloadNearbyImages:function(){var t,i,o=[],n=this;o.push(n.getIndex(n.current+1)),o.push(n.getIndex(n.current+2)),o.push(n.getIndex(n.current+3)),o.push(n.getIndex(n.current-1)),o.push(n.getIndex(n.current-2)),o.push(n.getIndex(n.current-3));for(var a=o.length-1;a>=0;a--)"isImage"===n.dataArray[o[a]].type&&(i=n.dataArray[o[a]].src,t=new Image,e('<img src="'+i+'">').is("img:uncached")&&(t.src=i))}},r={_init:function(t,i){var o=this;o.current=0,o.obj=i,o.$obj=e(i),o._createMarkup(),o._events()},_createMarkup:function(){var t,i,o=this;o.$ul=o.$obj.children(".cbp-slider-wrap"),o.$li=o.$ul.children(".cbp-slider-item"),o.$li.eq(0).addClass("cbp-slider-item-current"),o.$liLength=o.$li.length,t=e("<div/>",{"class":"cbp-slider-arrowWrap"}).appendTo(o.$obj),e("<div/>",{"class":"cbp-slider-arrowNext","data-action":"nextItem"}).appendTo(t),e("<div/>",{"class":"cbp-slider-arrowPrev","data-action":"prevItem"}).appendTo(t),i=e("<div/>",{"class":"cbp-slider-bulletWrap"}).appendTo(o.$obj);for(var n=0;n<o.$liLength;n++){var a=0===n?" cbp-slider-bullet-current":"";e("<div/>",{"class":"cbp-slider-bullet"+a,"data-action":"jumpToItem"}).appendTo(i)}},_events:function(){var t=this;t.$obj.on("click"+a,function(i){var o=e(i.target).attr("data-action");t[o]&&(t[o](i),i.preventDefault())})},nextItem:function(){this.jumpTo(1)},prevItem:function(){this.jumpTo(-1)},jumpToItem:function(t){var i=e(t.target),o=i.index();this.jumpTo(o-this.current)},jumpTo:function(t){var i,o=this,n=this.$li.eq(this.current);this.current=this.getIndex(this.current+t),i=this.$li.eq(this.current),i.addClass("cbp-slider-item-next"),i.animate({opacity:1},function(){n.removeClass("cbp-slider-item-current"),i.removeClass("cbp-slider-item-next").addClass("cbp-slider-item-current").removeAttr("style");var t=e(".cbp-slider-bullet");t.removeClass("cbp-slider-bullet-current"),t.eq(o.current).addClass("cbp-slider-bullet-current")})},getIndex:function(e){return e%=this.$liLength,0>e&&(e=this.$liLength+e),e}},l={_main:function(t,i,o){var n=this;n.styleQueue=[],n.isAnimating=!1,n.defaultFilter="*",n.registeredEvents=[],e.isFunction(o)&&n._registerEvent("initFinish",o,!0),n.options=e.extend({},e.fn.cubeportfolio.options,i),n.obj=t,n.$obj=e(t),n.width=n.$obj.width(),n.$obj.addClass("cbp cbp-loading"),n.$ul=n.$obj.children(),n.$ul.addClass("cbp-wrapper"),("lazyLoading"===n.options.displayType||"fadeIn"===n.options.displayType)&&n.$ul.css({opacity:0}),"fadeInToTop"===n.options.displayType&&n.$ul.css({opacity:0,marginTop:30}),n._browserInfo(),n._initCSSandEvents(),n._prepareBlocks(),"lazyLoading"===n.options.displayType||"sequentially"===n.options.displayType||"bottomToTop"===n.options.displayType||"fadeInToTop"===n.options.displayType?n._load():n._beforeDisplay()},_browserInfo:function(){var e,i,o=this,n=navigator.appVersion;o.browser=-1!==n.indexOf("MSIE 8.")?"ie8":-1!==n.indexOf("MSIE 9.")?"ie9":-1!==n.indexOf("MSIE 10.")?"ie10":t.ActiveXObject||"ActiveXObject"in t?"ie11":/android/gi.test(n)?"android":/iphone|ipad|ipod/gi.test(n)?"ios":/chrome/gi.test(n)?"chrome":"",o.browser&&o.$obj.addClass("cbp-"+o.browser),e=o._styleSupport("transition"),i=o._styleSupport("animation"),o.transition=o.transitionByFilter=e?"css":"animate","animate"!=o.transition&&(o.transitionEnd={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"}[e],o.animationEnd={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"Animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"}[i],o.supportCSSTransform=o._styleSupport("transform"),o.supportCSSTransform&&o._cssHooks())},_styleSupport:function(e){var t,o,n,a=e.charAt(0).toUpperCase()+e.slice(1),s=["Moz","Webkit","O","ms"],r=i.createElement("div");if(e in r.style)o=e;else for(n=s.length-1;n>=0;n--)if(t=s[n]+a,t in r.style){o=t;break}return r=null,o},_cssHooks:function(){function t(t,n,a){var s,r,l,p,c,u,d=e(t),b=d.data("transformFn")||{},f={},h={};f[a]=n,e.extend(b,f);for(s in b)r=b[s],h[s]=i[s](r);l=h.translate||"",p=h.scale||"",u=h.skew||"",c=l+p+u,d.data("transformFn",b),t.style[o.supportCSSTransform]=c}var i,o=this;i=o._has3d()?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "},skew:function(e){return"skew("+e[0]+"deg, "+e[1]+"deg) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "},skew:function(e){return"skew("+e[0]+"deg, "+e[1]+"deg) "}},e.cssNumber.scale=!0,e.cssHooks.scale={set:function(e,i){"string"==typeof i&&(i=parseFloat(i)),t(e,i,"scale")},get:function(t){var i=e.data(t,"transformFn");return i&&i.scale?i.scale:1}},e.fx.step.scale=function(t){e.cssHooks.scale.set(t.elem,t.now+t.unit)},e.cssNumber.translate=!0,e.cssHooks.translate={set:function(e,i){t(e,i,"translate")},get:function(t){var i=e.data(t,"transformFn");return i&&i.translate?i.translate:[0,0]}},e.cssNumber.skew=!0,e.cssHooks.skew={set:function(e,i){t(e,i,"skew")},get:function(t){var i=e.data(t,"transformFn");return i&&i.skew?i.skew:[0,0]}}},_has3d:function(){var e,n=i.createElement("p"),a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};i.body.insertBefore(n,null);for(var s in a)n.style[s]!==o&&(n.style[s]="translate3d(1px,1px,1px)",e=t.getComputedStyle(n).getPropertyValue(a[s]));return i.body.removeChild(n),e!==o&&e.length>0&&"none"!==e},_prepareBlocks:function(){var e=this;e.blocks=e.$ul.children(".cbp-item"),e.blocksAvailable=e.blocks,e.blocks.wrapInner('<div class="cbp-item-wrapper"></div>'),e.options.caption&&e._captionInit()},_captionInit:function(){var e=this;e.$obj.addClass("cbp-caption-"+e.options.caption),e["_"+e.options.caption+"Caption"]()},_captionDestroy:function(){var e=this;e.$obj.removeClass("cbp-caption-"+e.options.caption),e["_"+e.options.caption+"CaptionDestroy"]()},_noneCaption:function(){},_noneCaptionDestroy:function(){},_pushTopCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({bottom:"100%"},"fast"),o.animate({bottom:0},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({bottom:0},"fast"),o.animate({bottom:"-100%"},"fast")})},_pushTopCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_pushDownCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({bottom:"-100%"},"fast"),o.animate({bottom:0},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({bottom:0},"fast"),o.animate({bottom:"100%"},"fast")})},_pushDownCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_revealBottomCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap");i.animate({bottom:"100%"},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap");i.animate({bottom:0},"fast")})},_revealBottomCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"))},_revealTopCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap");i.animate({bottom:"-100%"},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap");i.animate({bottom:0},"fast")})},_revealTopCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"))},_overlayBottomRevealCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap").height();i.animate({bottom:o},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap");i.animate({bottom:0},"fast")})},_overlayBottomRevealCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"))},_overlayBottomPushCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap"),n=o.height();i.animate({bottom:n},"fast"),o.animate({bottom:0},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap"),n=o.height();i.animate({bottom:0},"fast"),o.animate({bottom:-n},"fast")})},_overlayBottomPushCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_overlayBottomCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){e(this).find(".cbp-caption-activeWrap").animate({bottom:0},"fast")}).on("mouseleave"+a,function(){var t=e(this).find(".cbp-caption-activeWrap");t.animate({bottom:-t.height()},"fast")})},_overlayBottomCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_moveRightCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){e(this).find(".cbp-caption-activeWrap").animate({left:0},"fast")}).on("mouseleave"+a,function(){var t=e(this).find(".cbp-caption-activeWrap");t.animate({left:-t.width()},"fast")})},_moveRightCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_revealLeftCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){e(this).find(".cbp-caption-activeWrap").animate({left:0},"fast")}).on("mouseleave"+a,function(){var t=e(this).find(".cbp-caption-activeWrap");t.animate({left:t.width()},"fast")})},_revealLeftCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_minimalCaption:function(){},_minimalCaptionDestroy:function(){},_fadeInCaption:function(){var t,i=this;("ie8"===i.browser||"ie9"===i.browser)&&(t="ie9"===i.browser?1:.8,e(".cbp-caption").on("mouseenter"+a,function(){e(this).find(".cbp-caption-activeWrap").animate({opacity:t},"fast")}).on("mouseleave"+a,function(){e(this).find(".cbp-caption-activeWrap").animate({opacity:0},"fast")}))},_fadeInCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_overlayRightAlongCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({left:o.width()/2},"fast"),o.animate({left:0},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({left:0},"fast"),o.animate({left:-o.width()},"fast")})},_overlayRightAlongCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_overlayBottomAlongCaption:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&e(".cbp-caption").on("mouseenter"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({bottom:o.height()/2},"fast"),o.animate({bottom:0},"fast")}).on("mouseleave"+a,function(){var t=e(this),i=t.find(".cbp-caption-defaultWrap"),o=t.find(".cbp-caption-activeWrap");i.animate({bottom:0},"fast"),o.animate({bottom:-o.height()},"fast")})},_overlayBottomAlongCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-defaultWrap").removeAttr("style"),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_zoomCaption:function(){var t,i=this;("ie8"===i.browser||"ie9"===i.browser)&&(t="ie9"===i.browser?1:.8,e(".cbp-caption").on("mouseenter"+a,function(){e(this).find(".cbp-caption-activeWrap").animate({opacity:t},"fast")}).on("mouseleave"+a,function(){e(this).find(".cbp-caption-activeWrap").animate({opacity:0},"fast")}))},_zoomCaptionDestroy:function(){var t=this;("ie8"===t.browser||"ie9"===t.browser)&&(e(".cbp-caption").off("mouseenter"+a+" mouseleave"+a),e(".cbp-caption").find(".cbp-caption-activeWrap").removeAttr("style"))},_initCSSandEvents:function(){var i,n,s,r,l=this;e(t).on("resize"+a,function(){i&&clearTimeout(i),i=setTimeout(function(){if("ie8"===l.browser){if(r=e(t).width(),s!==o&&s==r)return;s=r}l.$obj.removeClass("cbp-no-transition cbp-appendItems-loading"),"responsive"===l.options.gridAdjustment&&l._responsiveLayout(),l._layout(),l._processStyle(l.transition),l._resizeMainContainer(l.transition),l.lightbox&&l.lightbox.resizeImage(),l.singlePage&&l.singlePage.options.singlePageStickyNavigation&&(n=l.singlePage.wrap[0].clientWidth,n>0&&(l.singlePage.navigationWrap.width(n),l.singlePage.navigation.width(n))),l.singlePageInline&&l.singlePageInline.isOpen&&l.singlePageInline.close()},50)})},_load:function(){var t,i,o,n=this,s=[],r=/url\((['"]?)(.*?)\1\)/g;if(o=n.$obj.children().css("backgroundImage"))for(var l;l=r.exec(o);)s.push({src:l[2]});n.$obj.find("*").each(function(){var t=e(this);if(t.is("img:uncached")&&s.push({src:t.attr("src"),element:t[0]}),o=t.css("backgroundImage"))for(var i;i=r.exec(o);)s.push({src:i[2],element:t[0]})});var p=s.length,c=0;0===p&&n._beforeDisplay();var u=function(){return c++,c==p?(n._beforeDisplay(),!1):void 0};for(t=0;p>t;t++)i=new Image,e(i).on("load"+a+" error"+a,u),i.src=s[t].src},_beforeDisplay:function(){var e=this;e.options.animationType&&(e["_"+e.options.animationType+"Init"]&&e["_"+e.options.animationType+"Init"](),e.$obj.addClass("cbp-animation-"+e.options.animationType),e.localColumnWidth=e.blocks.eq(0).outerWidth()+e.options.gapVertical,""===e.options.defaultFilter||"*"===e.options.defaultFilter?e._display():e.filter(e.options.defaultFilter,function(){e._display()},e))},_display:function(){var e,t,i=this;"responsive"===i.options.gridAdjustment&&i._responsiveLayout(),i._layout(),i._processStyle("css"),i._resizeMainContainer("css"),("lazyLoading"===i.options.displayType||"fadeIn"===i.options.displayType)&&i.$ul.animate({opacity:1},i.options.displayTypeSpeed),"fadeInToTop"===i.options.displayType&&i.$ul.animate({opacity:1,marginTop:0},i.options.displayTypeSpeed),"sequentially"===i.options.displayType&&(e=0,i.blocks.css("opacity",0),function o(){t=i.blocksAvailable.eq(e++),t.length&&(t.animate({opacity:1}),setTimeout(o,i.options.displayTypeSpeed))}()),"bottomToTop"===i.options.displayType&&(e=0,i.blocks.css({opacity:0,marginTop:80}),function n(){t=i.blocksAvailable.eq(e++),t.length&&(t.animate({opacity:1,marginTop:0},400),setTimeout(n,i.options.displayTypeSpeed))
}()),setTimeout(function(){i.$obj.removeClass("cbp-loading"),i._triggerEvent("initFinish"),i.$obj.trigger("initComplete"),i.$obj.addClass("cbp-ready")},0),i.lightbox=null,i.$obj.find(i.options.lightboxDelegate)&&(i.lightbox=Object.create(s),i.lightbox.init(i,"lightbox"),i.$obj.on("click"+a,i.options.lightboxDelegate,function(e){i.lightbox.openLightbox(i.blocksAvailable,this),e.preventDefault()})),i.singlePage=null,i.$obj.find(i.options.singlePageDelegate)&&(i.singlePage=Object.create(s),i.singlePage.init(i,"singlePage"),i.$obj.on("click"+a,i.options.singlePageDelegate,function(e){e.preventDefault(),i.singlePage.openSinglePage(i.blocksAvailable,this)})),i.singlePageInline=null,i.$obj.find(i.options.singlePageInlineDelegate)&&(i.singlePageInline=Object.create(s),i.singlePageInline.init(i,"singlePageInline"),i.$obj.on("click"+a,i.options.singlePageInlineDelegate,function(e){i.singlePageInline.openSinglePageInline(i.blocksAvailable,this),e.preventDefault()}))},_layout:function(){var t=this;t._layoutReset(),t.blocksAvailable.each(function(i,o){var n=e(o),a=Math.ceil(n.outerWidth()/t.localColumnWidth),s=0;if(a=Math.min(a,t.cols),t.singlePageInline&&i>=t.singlePageInline.matrice[0]&&i<=t.singlePageInline.matrice[1]&&(s=t.singlePageInline.height),1===a)t._placeBlocks(n,t.colVert,s);else{var r,l,p=t.cols+1-a,c=[];for(l=0;p>l;l++)r=t.colVert.slice(l,l+a),c[l]=Math.max.apply(Math,r);t._placeBlocks(n,c,s)}})},_layoutReset:function(){var e,t=this;for("alignCenter"===t.options.gridAdjustment?(t.$obj.attr("style",""),t.width=t.$obj.width(),t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1),t.width=t.cols*t.localColumnWidth-t.options.gapVertical,t.$obj.css("max-width",t.width)):(t.width=t.$obj.width(),t.cols=Math.max(Math.floor((t.width+t.options.gapVertical)/t.localColumnWidth),1)),t.colVert=[],e=t.cols;e--;)t.colVert.push(0)},_responsiveLayout:function(){var t,i,o=this;o.columnWidthCache?o.localColumnWidth=o.columnWidthCache:o.columnWidthCache=o.localColumnWidth,o.width=o.$obj.width()+o.options.gapVertical,o.cols=Math.max(Math.floor(o.width/o.localColumnWidth),1),i=o.width%o.localColumnWidth,o.localColumnWidth=i/o.localColumnWidth>.5?o.localColumnWidth-(o.localColumnWidth-i)/(o.cols+1):o.localColumnWidth+i/o.cols,o.localColumnWidth=parseInt(o.localColumnWidth,10),t=o.localColumnWidth/o.columnWidthCache,o.blocks.each(function(){var i=e(this),n=e.data(this,"cbp-wxh");n||(n=e.data(this,"cbp-wxh",{width:i.outerWidth(),height:i.outerHeight()})),i.css("width",o.localColumnWidth-o.options.gapVertical),i.css("height",Math.floor(n.height*t))}),o.blocksClone&&o.blocksClone.each(function(){var i=e(this),n=e.data(this,"cbp-wxh");n||(n=e.data(this,"cbp-wxh",{width:i.outerWidth(),height:i.outerHeight()})),i.css("width",o.localColumnWidth-o.options.gapVertical),i.css("height",Math.floor(n.height*t))})},_resizeMainContainer:function(e,t){var i=this;t=t||0,i.height=Math.max.apply(Math,i.colVert)+t,i.$obj[e]({height:i.height-i.options.gapHorizontal},400)},_processStyle:function(e){for(var t=this,i=t.styleQueue.length-1;i>=0;i--)t.styleQueue[i].$el[e](t.styleQueue[i].style);t.styleQueue=[]},_placeBlocks:function(e,t,i){var o,n,a,s,r,l,p=this,c=Math.min.apply(Math,t),u=0;for(r=0,l=t.length;l>r;r++)if(t[r]===c){u=r;break}for(p.singlePageInline&&0!==i&&(p.singlePageInline.top=c),c+=i,o=Math.round(p.localColumnWidth*u),n=Math.round(c),p.styleQueue.push({$el:e,style:p.supportCSSTransform?p._withCSS3(o,n):p._withCSS2(o,n)}),a=c+e.outerHeight()+p.options.gapHorizontal,s=p.cols+1-l,r=0;s>r;r++)p.colVert[u+r]=a},_withCSS2:function(e,t){return{left:e,top:t}},_withCSS3:function(e,t){return{translate:[e,t]}},_duplicateContent:function(e){var t=this;t.$ulClone=t.$ul.clone(),t.blocksClone=t.$ulClone.children(),t.$ulClone.css(e),t.ulHidden="clone",t.$obj.append(t.$ulClone)},_fadeOutFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&o.styleQueue.push({$el:e,style:{opacity:0}}),t.length&&o.styleQueue.push({$el:t,style:{opacity:1}}),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_quicksandFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&o.styleQueue.push({$el:e,style:{scale:.01,opacity:0}}),t.length&&o.styleQueue.push({$el:t,style:{scale:1,opacity:1}}),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_flipOutFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&("ie8"===o.browser||"ie9"===o.browser?o.styleQueue.push({$el:e,style:{opacity:0}}):e.find(".cbp-item-wrapper").removeClass("cbp-animation-flipOut-in").addClass("cbp-animation-flipOut-out")),t.length&&("ie8"===o.browser||"ie9"===o.browser?o.styleQueue.push({$el:t,style:{opacity:1}}):t.find(".cbp-item-wrapper").removeClass("cbp-animation-flipOut-out").addClass("cbp-animation-flipOut-in")),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_flipBottomFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&("ie8"===o.browser||"ie9"===o.browser?o.styleQueue.push({$el:e,style:{opacity:0}}):e.find(".cbp-item-wrapper").removeClass("cbp-animation-flipBottom-in").addClass("cbp-animation-flipBottom-out")),t.length&&("ie8"===o.browser||"ie9"===o.browser?o.styleQueue.push({$el:t,style:{opacity:1}}):t.find(".cbp-item-wrapper").removeClass("cbp-animation-flipBottom-out").addClass("cbp-animation-flipBottom-in")),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_scaleSidesFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&("ie8"===o.browser||"ie9"===o.browser?o.styleQueue.push({$el:e,style:{opacity:0}}):e.find(".cbp-item-wrapper").removeClass("cbp-animation-scaleSides-in").addClass("cbp-animation-scaleSides-out")),t.length&&("ie8"===o.browser||"ie9"===o.browser?o.styleQueue.push({$el:t,style:{opacity:1}}):t.find(".cbp-item-wrapper").removeClass("cbp-animation-scaleSides-out").addClass("cbp-animation-scaleSides-in")),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_skewFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),o.blocksAvailable=o.blocks.filter(i),e.length&&o.styleQueue.push({$el:e,style:{skew:[50,0],scale:.01,opacity:0}}),t.length&&o.styleQueue.push({$el:t,style:{skew:[0,0],scale:1,opacity:1}}),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),setTimeout(function(){o._filterFinish()},400)},_sequentiallyInit:function(){this.transitionByFilter="css"},_sequentiallyFilter:function(e,t,i){var o=this,n=(o.blocks,o.blocksAvailable);o.blocksAvailable=o.blocks.filter(i),o.$obj.addClass("cbp-no-transition"),"ie8"===o.browser||"ie9"===o.browser?n[o.transition]({top:"-=30",opacity:0},300):n[o.transition]({top:-30,opacity:0}),setTimeout(function(){"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),e.length&&e.css({display:"none"}),t.length&&t.css("display","block"),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),("ie8"===o.browser||"ie9"===o.browser)&&o.blocksAvailable.css("top","-=30");var n,a=0;!function s(){n=o.blocksAvailable.eq(a++),n.length?(n[o.transition]("ie8"===o.browser||"ie9"===o.browser?{top:"+=30",opacity:1}:{top:0,opacity:1}),setTimeout(s,130)):setTimeout(function(){o._filterFinish()},600)}()},600)},_fadeOutTopInit:function(){this.transitionByFilter="css"},_fadeOutTopFilter:function(e,t,i){var o=this;o.blocksAvailable=o.blocks.filter(i),"ie8"===o.browser||"ie9"===o.browser?o.$ul[o.transition]({top:-30,opacity:0},350):o.$ul[o.transition]({top:-30,opacity:0}),o.$obj.addClass("cbp-no-transition"),setTimeout(function(){"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),e.length&&e.css("opacity",0),t.length&&t.css("opacity",1),o._layout(),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition),"ie8"===o.browser||"ie9"===o.browser?o.$ul[o.transition]({top:0,opacity:1},350):o.$ul[o.transition]({top:0,opacity:1}),setTimeout(function(){o._filterFinish()},400)},400)},_boxShadowInit:function(){var e=this;"ie8"===e.browser||"ie9"===e.browser?e.options.animationType="fadeOut":e.blocksAvailable.append('<div class="cbp-animation-boxShadowMask"></div>')},_boxShadowFilter:function(e,t,i){var o=this;"*"!==i&&(t=t.filter(i),e=o.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden");var n=o.blocks.find(".cbp-animation-boxShadowMask");n.addClass("cbp-animation-boxShadowShow"),n.removeClass("cbp-animation-boxShadowActive cbp-animation-boxShadowInactive"),o.blocksAvailable=o.blocks.filter(i);var a={};e.length&&(e.find(".cbp-animation-boxShadowMask").addClass("cbp-animation-boxShadowActive"),o.styleQueue.push({$el:e,style:{opacity:0}}),a=e.last()),t.length&&(t.find(".cbp-animation-boxShadowMask").addClass("cbp-animation-boxShadowInactive"),o.styleQueue.push({$el:t,style:{opacity:1}}),a=t.last()),o._layout(),a.length?a.one(o.transitionEnd,function(){n.removeClass("cbp-animation-boxShadowShow"),o._filterFinish()}):(n.removeClass("cbp-animation-boxShadowShow"),o._filterFinish()),o._processStyle(o.transitionByFilter),o._resizeMainContainer(o.transition)},_bounceLeftInit:function(){var e=this;e._duplicateContent({left:"-100%",opacity:0}),e.transitionByFilter="css",e.$ul.addClass("cbp-wrapper-front")},_bounceLeftFilter:function(e,t,i){var o,n,a,s=this;s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),t=n.filter(".cbp-item-hidden"),"*"!==i&&(t=t.filter(i),n.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s._layout(),a[s.transition]({left:"-100%",opacity:0}).removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),o[s.transition]({left:0,opacity:1}).addClass("cbp-wrapper-front").removeClass("cbp-wrapper-back"),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition),setTimeout(function(){s._filterFinish()},400)},_bounceTopInit:function(){var e=this;e._duplicateContent({top:"-100%",opacity:0}),e.transitionByFilter="css",e.$ul.addClass("cbp-wrapper-front")},_bounceTopFilter:function(e,t,i){var o,n,a,s=this;s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),t=n.filter(".cbp-item-hidden"),"*"!==i&&(t=t.filter(i),n.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s._layout(),a[s.transition]({top:"-100%",opacity:0}).removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),o[s.transition]({top:0,opacity:1}).addClass("cbp-wrapper-front").removeClass("cbp-wrapper-back"),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition),setTimeout(function(){s._filterFinish()},400)},_bounceBottomInit:function(){var e=this;e._duplicateContent({top:"100%",opacity:0}),e.transitionByFilter="css"},_bounceBottomFilter:function(e,t,i){var o,n,a,s=this;s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),t=n.filter(".cbp-item-hidden"),"*"!==i&&(t=t.filter(i),n.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s._layout(),a[s.transition]({top:"100%",opacity:0}).removeClass("cbp-wrapper-front").addClass("cbp-wrapper-back"),o[s.transition]({top:0,opacity:1}).addClass("cbp-wrapper-front").removeClass("cbp-wrapper-back"),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition),setTimeout(function(){s._filterFinish()},400)},_moveLeftInit:function(){var e=this;e._duplicateContent({left:"100%",opacity:0}),e.$ulClone.addClass("no-trans"),e.transitionByFilter="css"},_moveLeftFilter:function(e,t,i){var o,n,a,s=this;"*"!==i&&(t=t.filter(i),e=s.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),s.$obj.addClass("cbp-no-transition"),"clone"===s.ulHidden?(s.ulHidden="first",o=s.$ulClone,a=s.$ul,n=s.blocksClone):(s.ulHidden="clone",o=s.$ul,a=s.$ulClone,n=s.blocks),n.css("opacity",0),n.addClass("cbp-item-hidden"),s.blocksAvailable=n.filter(i),s.blocksAvailable.css("opacity",1),s.blocksAvailable.removeClass("cbp-item-hidden"),s._layout(),a[s.transition]({left:"-100%",opacity:0}),o.removeClass("no-trans"),"css"===s.transition?(o[s.transition]({left:0,opacity:1}),a.one(s.transitionEnd,function(){a.addClass("no-trans").css({left:"100%",opacity:0}),s._filterFinish()})):o[s.transition]({left:0,opacity:1},function(){a.addClass("no-trans").css({left:"100%",opacity:0}),s._filterFinish()}),s._processStyle(s.transitionByFilter),s._resizeMainContainer(s.transition)},_slideLeftInit:function(){var e=this;e._duplicateContent({}),e.$ul.addClass("cbp-wrapper-front"),e.$ulClone.css("opacity",0),e.transitionByFilter="css"},_slideLeftFilter:function(e,t,i){var o,n,a,s,r=this;r.blocks.show(),r.blocksClone.show(),"*"!==i&&(t=t.filter(i),e=r.blocks.not(".cbp-item-hidden").not(i).addClass("cbp-item-hidden")),t.removeClass("cbp-item-hidden"),r.$obj.addClass("cbp-no-transition"),r.blocks.find(".cbp-item-wrapper").removeClass("cbp-animation-slideLeft-out cbp-animation-slideLeft-in"),r.blocksClone.find(".cbp-item-wrapper").removeClass("cbp-animation-slideLeft-out cbp-animation-slideLeft-in"),r.$ul.css({opacity:1}),r.$ulClone.css({opacity:1}),"clone"===r.ulHidden?(r.ulHidden="first",n=r.blocks,a=r.blocksClone,o=r.blocksClone,r.$ul.removeClass("cbp-wrapper-front"),r.$ulClone.addClass("cbp-wrapper-front")):(r.ulHidden="clone",n=r.blocksClone,a=r.blocks,o=r.blocks,r.$ul.addClass("cbp-wrapper-front"),r.$ulClone.removeClass("cbp-wrapper-front")),o.css("opacity",0),o.addClass("cbp-item-hidden"),r.blocksAvailable=o.filter(i),r.blocksAvailable.css({opacity:1}),r.blocksAvailable.removeClass("cbp-item-hidden"),r._layout(),"css"===r.transition?(n.find(".cbp-item-wrapper").addClass("cbp-animation-slideLeft-out"),a.find(".cbp-item-wrapper").addClass("cbp-animation-slideLeft-in"),s=n.find(".cbp-item-wrapper").last(),s.length?s.one(r.animationEnd,function(){r._filterFinish()}):r._filterFinish()):(n.find(".cbp-item-wrapper").animate({left:"-100%"},400,function(){r._filterFinish()}),a.find(".cbp-item-wrapper").css("left","100%"),a.find(".cbp-item-wrapper").animate({left:0},400)),r._processStyle(r.transitionByFilter),r._resizeMainContainer("animate")},_slideDelayInit:function(){this._wrapperFilterInit()},_slideDelayFilter:function(e,t,i){this._wrapperFilter(e,t,i,"slideDelay",!0)},_3dflipInit:function(){this._wrapperFilterInit()},_3dflipFilter:function(e,t,i){this._wrapperFilter(e,t,i,"3dflip",!0)},_rotateSidesInit:function(){this._wrapperFilterInit()},_rotateSidesFilter:function(e,t,i){this._wrapperFilter(e,t,i,"rotateSides",!0)},_flipOutDelayInit:function(){this._wrapperFilterInit()},_flipOutDelayFilter:function(e,t,i){this._wrapperFilter(e,t,i,"flipOutDelay",!1)},_foldLeftInit:function(){this._wrapperFilterInit()},_foldLeftFilter:function(e,t,i){this._wrapperFilter(e,t,i,"foldLeft",!0)},_unfoldInit:function(){this._wrapperFilterInit()},_unfoldFilter:function(e,t,i){this._wrapperFilter(e,t,i,"unfold",!0)},_scaleDownInit:function(){this._wrapperFilterInit()},_scaleDownFilter:function(e,t,i){this._wrapperFilter(e,t,i,"scaleDown",!0)},_frontRowInit:function(){this._wrapperFilterInit()},_frontRowFilter:function(e,t,i){this._wrapperFilter(e,t,i,"frontRow",!0)},_rotateRoomInit:function(){this._wrapperFilterInit()},_rotateRoomFilter:function(e,t,i){this._wrapperFilter(e,t,i,"rotateRoom",!0)},_wrapperFilterInit:function(){var e=this;e._duplicateContent({}),e.$ul.addClass("cbp-wrapper-front"),e.$ulClone.css("opacity",0),e.transitionByFilter="css"},_wrapperFilter:function(t,i,o,n,a){var s,r,l,p,c=this;if(c.blocks.show(),c.blocksClone.show(),"*"!==o&&(i=i.filter(o),t=c.blocks.not(".cbp-item-hidden").not(o).addClass("cbp-item-hidden")),i.removeClass("cbp-item-hidden"),c.$obj.addClass("cbp-no-transition"),c.blocks.find(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-out cbp-animation-"+n+"-in cbp-animation-"+n+"-fadeOut").css("style",""),c.blocksClone.find(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-out cbp-animation-"+n+"-in cbp-animation-"+n+"-fadeOut").css("style",""),c.$ul.css({opacity:1}),c.$ulClone.css({opacity:1}),"clone"===c.ulHidden?(c.ulHidden="first",r=c.blocks,l=c.blocksClone,s=c.blocksClone,c.$ul.removeClass("cbp-wrapper-front"),c.$ulClone.addClass("cbp-wrapper-front")):(c.ulHidden="clone",r=c.blocksClone,l=c.blocks,s=c.blocks,c.$ul.addClass("cbp-wrapper-front"),c.$ulClone.removeClass("cbp-wrapper-front")),r=c.blocksAvailable,s.css("opacity",0),s.addClass("cbp-item-hidden"),c.blocksAvailable=s.filter(o),c.blocksAvailable.css({opacity:1}),c.blocksAvailable.removeClass("cbp-item-hidden"),l=c.blocksAvailable,c._layout(),"css"===c.transition){var u=0,d=0;l.each(function(t,i){e(i).find(".cbp-item-wrapper").addClass("cbp-animation-"+n+"-in").css("animation-delay",d/20+"s"),d++}),r.each(function(t,i){u>=d&&a?e(i).find(".cbp-item-wrapper").addClass("cbp-animation-"+n+"-fadeOut"):e(i).find(".cbp-item-wrapper").addClass("cbp-animation-"+n+"-out").css("animation-delay",u/20+"s"),u++}),p=r.find(".cbp-item-wrapper").first(),p.length?p.one(c.animationEnd,function(){c._filterFinish(),("ie10"===c.browser||"ie11"===c.browser)&&setTimeout(function(){e(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-in")},300)}):(c._filterFinish(),("ie10"===c.browser||"ie11"===c.browser)&&setTimeout(function(){e(".cbp-item-wrapper").removeClass("cbp-animation-"+n+"-in")},300))}else r.find(".cbp-item-wrapper").animate({left:"-100%"},400,function(){c._filterFinish()}),l.find(".cbp-item-wrapper").css("left","100%"),l.find(".cbp-item-wrapper").animate({left:0},400);c._processStyle(c.transitionByFilter),c._resizeMainContainer("animate")},_filterFinish:function(){var e=this;e.isAnimating=!1,e._triggerEvent("filterFinish"),e.$obj.trigger("filterComplete")},_registerEvent:function(e,t,i){var o=this;o.registeredEvents[e]||(o.registeredEvents[e]=[],o.registeredEvents.push(e)),o.registeredEvents[e].push({func:t,oneTime:i||!1})},_triggerEvent:function(e){var t=this;if(t.registeredEvents[e])for(var i=t.registeredEvents[e].length-1;i>=0;i--)t.registeredEvents[e][i].func.call(t),t.registeredEvents[e][i].oneTime&&t.registeredEvents[e].splice(i,1)},init:function(t,i){var o=e.data(this,"cubeportfolio");if(o)throw new Error("cubeportfolio is already initialized. Please destroy it before initialize again!");o=e.data(this,"cubeportfolio",Object.create(l)),o._main(this,t,i)},destroy:function(i){var o=e.data(this,"cubeportfolio");if(!o)throw new Error("cubeportfolio is not initialized. Please initialize before calling destroy method!");e.isFunction(i)&&o._registerEvent("destroyFinish",i,!0),e.removeData(this,"cubeportfolio"),e.each(o.blocks,function(){e.removeData(this,"transformFn"),e.removeData(this,"cbp-wxh")}),o.$obj.removeClass("cbp cbp-loading cbp-ready cbp-no-transition"),o.$ul.removeClass("cbp-wrapper-front cbp-wrapper-back cbp-wrapper no-trans").removeAttr("style"),o.$obj.removeAttr("style"),o.$ulClone&&o.$ulClone.remove(),o.browser&&o.$obj.removeClass("cbp-"+o.browser),e(t).off("resize"+a),o.lightbox&&o.lightbox.destroy(),o.singlePage&&o.singlePage.destroy(),o.singlePageInline&&o.singlePageInline.destroy(),o.blocks.removeClass("cbp-item-hidden").removeAttr("style"),o.blocks.find(".cbp-item-wrapper").children().unwrap(),o.options.caption&&o._captionDestroy(),o.options.animationType&&("boxShadow"===o.options.animationType&&e(".cbp-animation-boxShadowMask").remove(),o.$obj.removeClass("cbp-animation-"+o.options.animationType)),o._triggerEvent("destroyFinish")},filter:function(t,i,o){var n,a,s=o||e.data(this,"cubeportfolio");if(!s)throw new Error("cubeportfolio is not initialized. Please initialize before calling filter method!");t="*"===t||""===t?"*":t,s.isAnimating||s.defaultFilter==t||("ie8"===s.browser||"ie9"===s.browser?s.$obj.removeClass("cbp-no-transition cbp-appendItems-loading"):(s.obj.classList.remove("cbp-no-transition"),s.obj.classList.remove("cbp-appendItems-loading")),s.defaultFilter=t,s.isAnimating=!0,e.isFunction(i)&&s._registerEvent("filterFinish",i,!0),n=s.blocks.filter(".cbp-item-hidden"),a=[],s.singlePageInline&&s.singlePageInline.isOpen?s.singlePageInline.close("promise",{callback:function(){s["_"+s.options.animationType+"Filter"](a,n,t)}}):s["_"+s.options.animationType+"Filter"](a,n,t))},showCounter:function(t){var i=e.data(this,"cubeportfolio");if(!i)throw new Error("cubeportfolio is not initialized. Please initialize before calling showCounter method!");i.elems=t,e.each(t,function(){var t=e(this),o=t.data("filter"),n=0;o="*"===o||""===o?"*":o,n=i.blocks.filter(o).length,t.find(".cbp-filter-counter").text(n)})},appendItems:function(t,i){var o=this,n=e.data(o,"cubeportfolio");if(!n)throw new Error("cubeportfolio is not initialized. Please initialize before calling appendItems method!");n.singlePageInline&&n.singlePageInline.isOpen?n.singlePageInline.close("promise",{callback:function(){l._addItems.call(o,t,i)}}):l._addItems.call(o,t,i)},_addItems:function(t,i){var o,n,a,s,r=e.data(this,"cubeportfolio");e.isFunction(i)&&r._registerEvent("appendItemsFinish",i,!0),r.$obj.addClass("cbp-no-transition cbp-appendItems-loading"),t=e(t).css("opacity",0),t.filter(".cbp-item").wrapInner('<div class="cbp-item-wrapper"></div>'),s=t.filter(r.defaultFilter),r.ulHidden?"first"===r.ulHidden?(t.appendTo(r.$ulClone),r.blocksClone=r.$ulClone.children(),n=r.blocksClone,a=t.clone(),a.appendTo(r.$ul),r.blocks=r.$ul.children()):(t.appendTo(r.$ul),r.blocks=r.$ul.children(),n=r.blocks,a=t.clone(),a.appendTo(r.$ulClone),r.blocksClone=r.$ulClone.children()):(t.appendTo(r.$ul),r.blocks=r.$ul.children(),n=r.blocks),r.options.caption&&(r._captionDestroy(),r._captionInit()),o=r.defaultFilter,r.blocksAvailable=n.filter(o),n.not(".cbp-item-hidden").not(o).addClass("cbp-item-hidden"),"responsive"===r.options.gridAdjustment&&r._responsiveLayout(),r._layout(),r._processStyle(r.transitionByFilter),r._resizeMainContainer("animate");var p=t.filter(".cbp-item-hidden");switch(r.options.animationType){case"flipOut":p.find(".cbp-item-wrapper").addClass("cbp-animation-flipOut-out");break;case"scaleSides":p.find(".cbp-item-wrapper").addClass("cbp-animation-scaleSides-out");break;case"flipBottom":p.find(".cbp-item-wrapper").addClass("cbp-animation-flipBottom-out")}s.animate({opacity:1},800,function(){switch(r.options.animationType){case"bounceLeft":case"bounceTop":case"bounceBottom":r.blocks.css("opacity",1),r.blocksClone.css("opacity",1);break;case"flipOut":case"scaleSides":case"flipBottom":p.css("opacity",1)}}),r.elems&&l.showCounter.call(this,r.elems),setTimeout(function(){r._triggerEvent("appendItemsFinish")},900)}};e.fn.cubeportfolio=function(e){var t=arguments;return this.each(function(){if(l[e])return l[e].apply(this,Array.prototype.slice.call(t,1));if("object"!=typeof e&&e)throw new Error("Method "+e+" does not exist on jQuery.cubeportfolio.js");return l.init.apply(this,t)})},e.fn.cubeportfolio.options={defaultFilter:"*",animationType:"fadeOut",gridAdjustment:"default",gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"default",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxShowCounter:!0,singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageShowCounter:!0,singlePageCallback:function(){},singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:function(){}}}(jQuery,window,document);